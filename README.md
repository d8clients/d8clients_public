# Сервис для записи клиентов
## Описание доменной области
> ### Введение
В этом документе описывается исходная информация, которая была собрана о событиях в организациях и о том, как они обрабатываются. Эта информация будет использоваться для руководства при разработке программного обеспечения для автоматизации процесса записи и информирования людей о событиях.
> ### Словарь
**Событие** - встреча или оказание услуги, которые имеют точное, назначенное заранее время начала и время конца; каждое событие имеет своего организатора и ограничение по количеству клиентов, зарегистрированных на данное событие. 

Существует два вида событий:

***Свободное событие*** - событие, количество записанных на него клиентов которого не достигло ограничения на число посещений.

***Занятое событие*** - событие, количество записанных на него клиентов которого достигло ограничения на число посещений.

**Запись - процесс** фиксации данных в системе о том, что клиент посетит определенное событие. 

**Клиент** - пользователь, которому предоставлен доступ к просмотру событий и записи на них.

**Сотрудник** - пользователь, работающий в организации, имеющий право на участие в событии в качестве организатора и имеющий доступ к календарю событий, организатором которых является.

**Администратор** - пользователь, работающий в организации, имеющий право на просмотр, создание и редактирование всех событий организации. 

> ### Общие знания о предметной области

События чаще всего происходят в рабочее время

Запись на события может осуществляться только в рабочее время, в то время, как клиенту может понадобиться запись и в нерабочее время организации.

Желание записаться на события присутствует у клиентов как в рабочее, так и в нерабочее время.

У каждого события есть название, местоположение, действующее лицо и спецификация.
Запись на события занимает много времени у администратора.

Прошедшие события не нужны клиентам, но могут быть интересны администраторам и мастерам.

> ### Роли
**Администратор** - создает и регулирует расписание событий.

**Сотрудник** - просматривает расписание свободных и занятых событий, принадлежащих ему.

**Клиент** - может просмотреть и записаться на свободное событие.

**Потенциальные клиенты-сотрудники** - это самозанятые и индивидуальные предприниматели, которым необходимо автоматизировать процесс работы с клиентами, которые имеют выход в интернет.

## Use-Cases

## Описание (не-)функциональных требований
### Функциональные требования

1. Система должна предоставлять возможность авторизации в программе, проверку корректности введенных данных;
2. Система должна предоставлять возможность регистрации новой учетной записи, проверку неиспользования данной электронной почты на сайте, проверка корректности пароля;
3. В системе должно быть реализовано управление доступом на основе ролей;
4. Система должна предоставлять администратору доступ к просмотру расписания всех сотрудников;
5. Система должна предоставлять админимтратору возможность получить доступ к редактированию и удалению свободных существующих событий, созданию новых;
6. Система должна предоставлять сотруднику компании доступ к просмотру своего расписания;
7. Система должна информировать сотрудника о создании события, огранизатором которого он является;
8. Система должна информировать сотрудника об изменении статуса события, огранизатором которого он является;
9. Система должна предоставлять возможность просмотра свободных событий клиенту;
10. Система должна предоставлять возможность записи на свободное событие авторизованному клиенту;
11. Система должна уметь генерировать пароль для новой учетной записи по заданному логину и адресу электронной почты;
12. Система должна оповещать клиента о предстоящем событии, которое он занял, за сутки до события;
13. Система должна очищать данные о событиях, срок давности которых превышает три месяца.

### Нефункциональные требования


## Компонентная модель
![This is an image](https://github.com/volotovanastasia/NashaComanda/blob/main/componentnaya_model.jpg)
### Компоненты:
- Web UI - клиентская часть нашего веб-приложения
- Server
  - Регистрация записи - подсистема, которая отвечает за создание и регистрации новой записи.
  - Система оплаты - подсистема, которая отвечает за оплату услуги клиентом (с помощью стороннего платежного сервиса, например API Fondy), после оплаты информация о записи переходит в подсистему обработка записи.
  - Обработка записи - подсистема, которая обрабатывает и сохраняет запись в базу данных после подтверждения оплаты, отвечает за фиксирование всех действий, производящихся с записью.
  - Отзыв клиента - подсистема, которая позволяет клиенту оставить отзыв о работе сотрудника/компании, если запись была подтверждена, после этого отзыв сохраняется в подсистеме базе данных.
  - Рейтинг сотрудников - подсистема, которая составляет рейтинг сотрудников в соответствии с отзывами клиентов, хранящимися в базе данных.
  - Расписание событий - подсистема, которая может составить из совокупности записей и показать пользователю расписание сотрудника на определенный период. 
  - Рассылка - подсистема, которая напоминает клиентам о приближающемся событии, на которое они записаны (будет реализована с помощью email service provider, например unisender).
- База данных - совокупность данных от пользователей, поддерживаемая в памяти компьютера.


## Референсные архитектуры
### Микросервисная архитектура
Эта архитектура характеризуется такими свойствами, как:
- Высокая доступность и тестируемость;
- Низкая связанность;
- Независимо развертываемые компоненты;

Преимуществами данной архитектуры являются устойчивость к сбоям, независимость моделей данных, упрощение замены сервисов при необходимости.
В этой архитектуре наблюдается слабая зависимость одной подсистемы от другой.

### Database-per-Service архитектура
Этот паттерн отвечает за организацию данных в микросервисной архитектуре. Так как мы используем микросервисы, то database-per-service архитектура вытекает этого.
Каждый микросервис содержит в себе базу данных, к которой обращается только он.
